<div class="edit-room-container">
  <!-- Header: Title + Toggle -->
  <div class="edit-room-header">
    <div class="dialog-title-left">
      <mat-icon class="dialog-icon">edit</mat-icon>
      <span class="dialog-label">Edit Room</span>
    </div>
    <mat-slide-toggle
      [checked]="!data.is_hidden"
      (change)="data.is_hidden = !$event.checked"
      color="primary"
      class="toggle-hide">
      {{ data.is_hidden ? 'Hidden' : 'Active' }}
    </mat-slide-toggle>
  </div>

  <!-- Upload Section -->
  <div class="upload-section">
    <img
      *ngIf="roomImage || data.image_url"
      [src]="roomImage || data.image_url"
      class="cover-img"
      alt="Room cover"
    />
    <div *ngIf="!roomImage && !data.image_url" class="cover-placeholder">
      No cover image
    </div>
    <button mat-icon-button (click)="fileInput.click()" class="upload-btn">
      <mat-icon>upload</mat-icon>
    </button>
    <input type="file" hidden #fileInput (change)="onImageChange($event)" />
  </div>

  <!-- Form Grid -->
  <div class="form-grid">
    <mat-form-field appearance="outline">
      <mat-label>Room Name</mat-label>
      <input matInput [(ngModel)]="data.name" name="name" />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Active Members</mat-label>
      <input matInput type="number" [value]="data.members" disabled />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width" style="grid-column: span 2;">
      <mat-label>Description</mat-label>
      <textarea
        matInput
        rows="3"
        [(ngModel)]="data.description"
        name="description"
      ></textarea>
    </mat-form-field>
  </div>

  <!-- Actions -->
  <div class="dialog-actions">
    <button mat-stroked-button class="cancel-button" (click)="cancel()">Cancel</button>
    <button mat-raised-button color="primary" (click)="save()">Save</button>
  </div>
</div>
