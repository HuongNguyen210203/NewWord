<div class="chat-wrapper">
  <main class="chat-main">
    <aside class="chat-room-list">
      <h3>Conversations</h3>
      <div class="chat-list">
        <div class="chat-scroll">
          @for (room of chatRooms; track room.name) {
            <div
              class="chat-item"
              [class.active]="room.active"
              (click)="selectRoom(room)"
            >
              <img [src]="room.avatar" class="avatar" />
              <div class="chat-info">
                <div class="name">{{ room.name }}</div>
                <div class="preview">{{ room.preview }}</div>
              </div>
              <div class="time">{{ room.time }}</div>
            </div>
          }
        </div>
      </div>
    </aside>

    <section class="chat-content-wrapper">
      <div class="chat-header">
        <img class="chat-header-avatar" [src]="activeRoom?.avatar" />
        <span class="chat-header-name">
          {{ activeRoom?.name || 'Chọn cuộc trò chuyện' }}
        </span>
      </div>

      <div class="chat-content">
        @for (msg of messages; track msg.text) {
          <div class="message" [ngClass]="msg.from === 'me' ? 'right' : 'left'">
            <img class="msg-avatar" [src]="msg.avatar" />
            <div class="bubble">{{ msg.text }}</div>
          </div>
        }
      </div>

      <div class="suggestions">
        @for (s of suggestions; track s) {
          <button (click)="sendSuggestion(s)">
            {{ s }}
          </button>
        }
      </div>

      <div class="chat-input">
        <mat-icon class="icon">add</mat-icon>
        <mat-icon class="icon">sentiment_satisfied</mat-icon>
        <input
          type="text"
          [(ngModel)]="inputMessage"
          placeholder="Aa"
          (keyup.enter)="sendMessage()"
        />
        <mat-icon class="icon" (click)="sendMessage()">mic</mat-icon>
      </div>
    </section>
  </main>
</div>
